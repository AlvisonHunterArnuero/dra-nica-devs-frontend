(this["webpackJsonpdra-nica-devs-frontend"]=this["webpackJsonpdra-nica-devs-frontend"]||[]).push([[0],{69:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(15),c=n(3),i=n(12),s=n(13),l=n(4),o=n(18),d=n(17),u=n(14),h=n(11),j=n.n(h),b=n(20),m="CREATE_CANDIDATE",x="RETRIEVE_CANDIDATES",O="UPDATE_CANDIDATE",v="DELETE_CANDIDATE",p=n(36),f=n.n(p).a.create({baseURL:"http://localhost:1337",headers:{"Content-type":"application/json"}}),C=new(function(){function e(){Object(i.a)(this,e)}return Object(s.a)(e,[{key:"getAll",value:function(){return f.get("/candidates")}},{key:"get",value:function(e){return f.get("/candidates/".concat(e))}},{key:"create",value:function(e){return f.post("/candidates",e)}},{key:"update",value:function(e,t){return f.put("/candidates/".concat(e),t)}},{key:"delete",value:function(e){return f.delete("/candidates/".concat(e))}}]),e}()),g=n(0),y=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).onChangeFullName=a.onChangeFullName.bind(Object(l.a)(a)),a.onChangeSeniority=a.onChangeSeniority.bind(Object(l.a)(a)),a.onChangeEmail=a.onChangeEmail.bind(Object(l.a)(a)),a.onChangeHired=a.onChangeHired.bind(Object(l.a)(a)),a.onChangePhone=a.onChangePhone.bind(Object(l.a)(a)),a.onChangeSex=a.onChangeSex.bind(Object(l.a)(a)),a.saveCandidate=a.saveCandidate.bind(Object(l.a)(a)),a.state={fullname:"",seniority:"trainee",email:"",hired:"referred",phone:"",sex:"male",redirect:!1},a}return Object(s.a)(n,[{key:"onChangeFullName",value:function(e){this.setState({fullname:e.target.value})}},{key:"onChangeSeniority",value:function(e){this.setState({seniority:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangeHired",value:function(e){this.setState({hired:e.target.value})}},{key:"onChangePhone",value:function(e){this.setState({phone:e.target.value})}},{key:"onChangeSex",value:function(e){this.setState({sex:e.target.value})}},{key:"saveCandidate",value:function(){var e=this,t=this.state,n=t.fullname,a=t.seniority,r=t.email,c=t.hired,i=t.phone,s=t.sex;this.props.createCandidate(n,a,r,c,i,s).then((function(){e.setState({redirect:!0})}))}},{key:"render",value:function(){return this.state.redirect?Object(g.jsx)(c.a,{to:"/"}):Object(g.jsxs)("div",{className:"container text-white my-4",children:[Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",htmlFor:"name",children:"Full Name"}),Object(g.jsx)("input",{type:"text",className:"form-control",id:"fullname",required:!0,value:this.state.fullname,onChange:this.onChangeFullName,name:"fullname"})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",htmlFor:"seniority",children:"Seniority"}),Object(g.jsxs)("select",{className:"form-select","aria-label":"Seniority Level",id:"seniority",required:!0,value:this.state.seniority,onChange:this.onChangeSeniority,name:"seniority",children:[Object(g.jsx)("option",{defaultValue:"trainee",children:"Trainee"}),Object(g.jsx)("option",{value:"junior",children:"Junior"}),Object(g.jsx)("option",{value:"mid",children:"Mid"}),Object(g.jsx)("option",{value:"senior",children:"Senior"}),Object(g.jsx)("option",{value:"leader",children:"Leader"})]})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",htmlFor:"email",children:"Email"}),Object(g.jsx)("input",{type:"text",className:"form-control",id:"email",required:!0,value:this.state.email,onChange:this.onChangeEmail,name:"email"})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",htmlFor:"hired",children:"Status"}),Object(g.jsxs)("select",{className:"form-select","aria-label":"Status Level",id:"hired",required:!0,value:this.state.hired,onChange:this.onChangeHired,name:"hired",children:[Object(g.jsx)("option",{defaultValue:"referred",children:"Referred"}),Object(g.jsx)("option",{value:"interviewed",children:"Interviewed"}),Object(g.jsx)("option",{value:"hired",children:"Hired"}),Object(g.jsx)("option",{value:"rejected",children:"Rejected"})]})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",htmlFor:"phone",children:"Phone"}),Object(g.jsx)("input",{type:"text",className:"form-control",id:"phone",required:!0,value:this.state.phone,onChange:this.onChangePhone,name:"phone"})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",htmlFor:"sex",children:"Sex"}),Object(g.jsxs)("select",{className:"form-select","aria-label":"Sex Type",id:"sex",required:!0,value:this.state.sex,onChange:this.onChangeSex,name:"sex",children:[Object(g.jsx)("option",{defaultValue:"male",children:"Male"}),Object(g.jsx)("option",{value:"female",children:"Female"}),Object(g.jsx)("option",{value:"other",children:"Other"})]})]}),Object(g.jsx)("button",{onClick:this.saveCandidate,className:"btn btn-success",children:"Save"})]})}}]),n}(a.Component),N=Object(u.b)(null,{createCandidate:function(e,t,n,a,r,c){return function(){var i=Object(b.a)(j.a.mark((function i(s){var l;return j.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,console.log("TESt"),i.next=4,C.create({fullname:e,seniority:t,email:n,hired:a,phone:r,sex:c});case 4:return l=i.sent,i.next=7,s({type:m,payload:l.data});case 7:return console.log("==>",l.data),i.next=10,Promise.resolve(l.data);case 10:return i.abrupt("return",i.sent);case 13:return i.prev=13,i.t0=i.catch(0),console.log(i.t0),i.abrupt("return",Promise.reject(i.t0));case 17:case"end":return i.stop()}}),i,null,[[0,13]])})));return function(e){return i.apply(this,arguments)}}()}})(y),S=n(5),k=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).onChangeFullName=a.onChangeFullName.bind(Object(l.a)(a)),a.onChangeSeniority=a.onChangeSeniority.bind(Object(l.a)(a)),a.onChangeEmail=a.onChangeEmail.bind(Object(l.a)(a)),a.onChangeHired=a.onChangeHired.bind(Object(l.a)(a)),a.onChangePhone=a.onChangePhone.bind(Object(l.a)(a)),a.onChangeSex=a.onChangeSex.bind(Object(l.a)(a)),a.saveCandidate=a.saveCandidate.bind(Object(l.a)(a)),a.state={currentCandidate:{fullname:"",seniority:"",email:"",hired:"",phone:0,sex:""},redirect:!1},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.getCandidate(window.location.pathname.replace("/edit-candidate/",""))}},{key:"onChangeFullName",value:function(e){var t=e.target.value;this.setState((function(e){return{currentCandidate:Object(S.a)(Object(S.a)({},e.currentCandidate),{},{fullname:t})}}))}},{key:"onChangeSeniority",value:function(e){var t=e.target.value;this.setState((function(e){return{currentCandidate:Object(S.a)(Object(S.a)({},e.currentCandidate),{},{seniority:t})}}))}},{key:"onChangeEmail",value:function(e){var t=e.target.value;this.setState((function(e){return{currentCandidate:Object(S.a)(Object(S.a)({},e.currentCandidate),{},{email:t})}}))}},{key:"onChangeHired",value:function(e){var t=e.target.value;this.setState((function(e){return{currentCandidate:Object(S.a)(Object(S.a)({},e.currentCandidate),{},{hired:t})}}))}},{key:"onChangePhone",value:function(e){var t=e.target.value;this.setState((function(e){return{currentCandidate:Object(S.a)(Object(S.a)({},e.currentCandidate),{},{phone:t})}}))}},{key:"onChangeSex",value:function(e){var t=e.target.value;this.setState((function(e){return{currentCandidate:Object(S.a)(Object(S.a)({},e.currentCandidate),{},{sex:t})}}))}},{key:"getCandidate",value:function(e){var t=this;C.get(e).then((function(e){t.setState({currentCandidate:e.data}),console.log("Get DATA",e.data)}))}},{key:"saveCandidate",value:function(){var e=this;this.props.updateCandidate(this.state.currentCandidate.id,this.state.currentCandidate).then((function(){e.setState({redirect:!0})}))}},{key:"render",value:function(){var e=this.state,t=e.redirect,n=e.currentCandidate;return t?Object(g.jsx)(c.a,{to:"/"}):Object(g.jsxs)("div",{className:"container text-white my-4",children:["`"," ",Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsxs)("label",{className:"form-label",htmlFor:"name",children:["Full Name ",this.state.currentCandidate.fullname]}),Object(g.jsx)("input",{type:"text",className:"form-control",id:"fullname",required:!0,value:n.fullname,onChange:this.onChangeFullName,name:"fullname"})]}),"`",Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",htmlFor:"seniority",children:"Seniority"}),Object(g.jsxs)("select",{className:"form-select","aria-label":"Seniority Level",id:"seniority",required:!0,value:n.seniority,onChange:this.onChangeSeniority,name:"seniority",children:[Object(g.jsx)("option",{value:"trainee",children:"Trainee"}),Object(g.jsx)("option",{value:"junior",children:"Junior"}),Object(g.jsx)("option",{value:"mid",children:"Mid"}),Object(g.jsx)("option",{value:"senior",children:"Senior"}),Object(g.jsx)("option",{value:"leader",children:"Leader"})]})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",htmlFor:"email",children:"Email"}),Object(g.jsx)("input",{type:"text",className:"form-control",id:"email",required:!0,value:n.email,onChange:this.onChangeEmail,name:"email"})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",htmlFor:"hired",children:"Status"}),Object(g.jsxs)("select",{className:"form-select","aria-label":"Status Level",id:"hired",required:!0,value:n.hired,onChange:this.onChangeHired,name:"hired",children:[Object(g.jsx)("option",{value:"referred",children:"Referred"}),Object(g.jsx)("option",{value:"interviewed",children:"Interviewed"}),Object(g.jsx)("option",{value:"hired",children:"Hired"}),Object(g.jsx)("option",{value:"rejected",children:"Rejected"})]})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",htmlFor:"phone",children:"Phone"}),Object(g.jsx)("input",{type:"text",className:"form-control",id:"phone",required:!0,value:n.phone,onChange:this.onChangePhone,name:"phone"})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",htmlFor:"sex",children:"Sex"}),Object(g.jsxs)("select",{className:"form-select","aria-label":"Sex Type",id:"sex",required:!0,value:n.sex,onChange:this.onChangeSex,name:"sex",children:[Object(g.jsx)("option",{value:"male",children:"Male"}),Object(g.jsx)("option",{value:"female",children:"Female"}),Object(g.jsx)("option",{value:"other",children:"Other"})]})]}),Object(g.jsx)("button",{onClick:this.saveCandidate,className:"btn btn-success",children:"Submit"})]})}}]),n}(a.Component),w=Object(u.b)(null,{updateCandidate:function(e,t){return function(){var n=Object(b.a)(j.a.mark((function n(a){var r;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,C.update(e,t);case 3:return r=n.sent,n.next=6,a({type:O,payload:t});case 6:return n.next=8,Promise.resolve(r.data);case 8:return n.abrupt("return",n.sent);case 11:return n.prev=11,n.t0=n.catch(0),console.log(n.t0),n.abrupt("return",Promise.reject(n.t0));case 15:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()}})(k),E=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).removeCandidate=function(t){e.props.deleteCandidate(t).then((function(){e.props.retrieveCandidates()}))},e.renderSwitch=function(e){switch(e){case"interviewed":return Object(g.jsx)("span",{className:"text-info",children:e});case"hired":return Object(g.jsx)("span",{className:"text-success",children:e});case"rejected":return Object(g.jsx)("span",{className:"text-danger",children:e});default:return Object(g.jsx)("span",{className:"text-primary",children:e})}},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.retrieveCandidates()}},{key:"render",value:function(){var e=this,t=this.props.candidates;return Object(g.jsxs)("div",{className:"container my-4",children:[Object(g.jsxs)("div",{className:"row justify-content-center",children:[Object(g.jsx)("div",{className:"col text-info",children:Object(g.jsx)("h4",{children:"Candidates List"})}),Object(g.jsx)("div",{className:"col-auto",children:Object(g.jsx)(r.b,{to:"/add-candidate",children:Object(g.jsx)("button",{className:"btn btn-outline-primary",children:Object(g.jsx)("i",{className:"fas fa-user-plus"})})})})]}),Object(g.jsx)("div",{className:"row my-4",children:Object(g.jsxs)("table",{className:"table table-dark table-hover text-center",children:[Object(g.jsx)("thead",{className:"text-uppercase text-warning",children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{scope:"col",children:"Id"}),Object(g.jsx)("th",{scope:"col",children:"Full Name"}),Object(g.jsx)("th",{scope:"col",children:"Seniority"}),Object(g.jsx)("th",{scope:"col",children:"email"}),Object(g.jsx)("th",{scope:"col",children:"Status"}),Object(g.jsx)("th",{scope:"col",children:"Phone"}),Object(g.jsx)("th",{scope:"col",children:"Gender"}),Object(g.jsx)("th",{scope:"col",children:"Actions"})]})}),Object(g.jsx)("tbody",{children:t&&t.map((function(t,n){var a=t.id,c=t.fullname,i=t.seniority,s=t.email,l=t.hired,o=t.phone,d=t.sex;return Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{scope:"row",children:a}),Object(g.jsx)("td",{children:c}),Object(g.jsx)("td",{children:i}),Object(g.jsx)("td",{children:s}),Object(g.jsx)("td",{className:"text-capitalize",children:e.renderSwitch(l)}),Object(g.jsx)("td",{children:o}),Object(g.jsx)("td",{children:"male"===d?Object(g.jsx)("i",{className:"text-info fas fa-male"}):Object(g.jsx)("i",{className:"text-warning fas fa-female"})}),Object(g.jsxs)("td",{children:[Object(g.jsx)("button",{className:"text-white border-0 btn btn-outline-secondary",onClick:function(){return e.removeCandidate(a)},children:Object(g.jsx)("i",{className:"fas fa-trash-alt"})}),Object(g.jsx)(r.b,{to:"/edit-candidate/".concat(a),children:Object(g.jsx)("i",{className:"text-white far fa-edit"})})]})]},n)}))})]})})]})}}]),n}(a.Component),F=Object(u.b)((function(e){return{candidates:e.candidates}}),{retrieveCandidates:function(){return function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.getAll();case 3:return n=e.sent,e.next=6,t({type:x,payload:n.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},deleteCandidate:function(e){return function(){var t=Object(b.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.delete(e);case 3:return t.next=5,n({type:v,payload:{id:e}});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})(E);function A(){return Object(g.jsx)(r.a,{children:Object(g.jsx)("div",{children:Object(g.jsxs)(c.d,{children:[Object(g.jsx)(c.b,{path:"/add-candidate",children:Object(g.jsx)(N,{})}),Object(g.jsx)(c.b,{path:"/edit-candidate",children:Object(g.jsx)(w,{})}),Object(g.jsx)(c.b,{path:"/",children:Object(g.jsx)(F,{})})]})})})}var P=n(24),T=n.n(P),D=n(38),q=n(39),H=[];var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case m:return[].concat(Object(q.a)(e),[a]);case x:return a;case O:return e.map((function(e){return e.id===a.id?Object(S.a)(Object(S.a)({},e),a):e}));case v:return e.filter((function(e){return e.id!==a.id}));default:return e}},L=Object(D.a)({reducer:{candidates:I}});n(69);T.a.render(Object(g.jsx)(u.a,{store:L,children:Object(g.jsx)(A,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.70514407.chunk.js.map