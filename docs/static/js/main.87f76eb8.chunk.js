(this["webpackJsonpdra-nica-devs-frontend"]=this["webpackJsonpdra-nica-devs-frontend"]||[]).push([[0],{69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(15),i=a(3),c=a(12),s=a(13),l=a(4),o=a(18),d=a(17),u=a(14),h=a(11),j=a.n(h),b=a(20),m="CREATE_CANDIDATE",x="RETRIEVE_CANDIDATES",O="UPDATE_CANDIDATE",v="DELETE_CANDIDATE",p=a(36),f=a.n(p).a.create({baseURL:"https://dra-strapi-img.herokuapp.com/",headers:{"Content-type":"application/json"}}),C=new(function(){function e(){Object(c.a)(this,e)}return Object(s.a)(e,[{key:"getAll",value:function(){return f.get("/candidates")}},{key:"get",value:function(e){return f.get("/candidates/".concat(e))}},{key:"create",value:function(e){return f.post("/candidates",e)}},{key:"update",value:function(e,t){return f.put("/candidates/".concat(e),t)}},{key:"delete",value:function(e){return f.delete("/candidates/".concat(e))}}]),e}()),g=a(0),y=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onChangeFullName=n.onChangeFullName.bind(Object(l.a)(n)),n.onChangeSeniority=n.onChangeSeniority.bind(Object(l.a)(n)),n.onChangeEmail=n.onChangeEmail.bind(Object(l.a)(n)),n.onChangeHired=n.onChangeHired.bind(Object(l.a)(n)),n.onChangePhone=n.onChangePhone.bind(Object(l.a)(n)),n.onChangeSex=n.onChangeSex.bind(Object(l.a)(n)),n.saveCandidate=n.saveCandidate.bind(Object(l.a)(n)),n.state={fullname:"",seniority:"trainee",email:"",hired:"referred",phone:"",sex:"male",redirect:!1},n}return Object(s.a)(a,[{key:"onChangeFullName",value:function(e){this.setState({fullname:e.target.value})}},{key:"onChangeSeniority",value:function(e){this.setState({seniority:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangeHired",value:function(e){this.setState({hired:e.target.value})}},{key:"onChangePhone",value:function(e){this.setState({phone:e.target.value})}},{key:"onChangeSex",value:function(e){this.setState({sex:e.target.value})}},{key:"saveCandidate",value:function(){var e=this,t=this.state,a=t.fullname,n=t.seniority,r=t.email,i=t.hired,c=t.phone,s=t.sex;this.props.createCandidate(a,n,r,i,c,s).then((function(){e.setState({redirect:!0})}))}},{key:"render",value:function(){return this.state.redirect?Object(g.jsx)(i.a,{to:"/"}):Object(g.jsxs)("div",{className:"container text-white my-4",children:[Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",htmlFor:"name",children:"Full Name"}),Object(g.jsx)("input",{type:"text",className:"form-control",id:"fullname",required:!0,value:this.state.fullname,onChange:this.onChangeFullName,name:"fullname"})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",htmlFor:"seniority",children:"Seniority"}),Object(g.jsxs)("select",{className:"form-select","aria-label":"Seniority Level",id:"seniority",required:!0,value:this.state.seniority,onChange:this.onChangeSeniority,name:"seniority",children:[Object(g.jsx)("option",{defaultValue:"trainee",children:"Trainee"}),Object(g.jsx)("option",{value:"junior",children:"Junior"}),Object(g.jsx)("option",{value:"mid",children:"Mid"}),Object(g.jsx)("option",{value:"senior",children:"Senior"}),Object(g.jsx)("option",{value:"leader",children:"Leader"})]})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",htmlFor:"email",children:"Email"}),Object(g.jsx)("input",{type:"text",className:"form-control",id:"email",required:!0,value:this.state.email,onChange:this.onChangeEmail,name:"email"})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",htmlFor:"hired",children:"Status"}),Object(g.jsxs)("select",{className:"form-select","aria-label":"Status Level",id:"hired",required:!0,value:this.state.hired,onChange:this.onChangeHired,name:"hired",children:[Object(g.jsx)("option",{defaultValue:"referred",children:"Referred"}),Object(g.jsx)("option",{value:"interviewed",children:"Interviewed"}),Object(g.jsx)("option",{value:"hired",children:"Hired"}),Object(g.jsx)("option",{value:"rejected",children:"Rejected"})]})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",htmlFor:"phone",children:"Phone"}),Object(g.jsx)("input",{type:"text",className:"form-control",id:"phone",required:!0,value:this.state.phone,onChange:this.onChangePhone,name:"phone"})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",htmlFor:"sex",children:"Sex"}),Object(g.jsxs)("select",{className:"form-select","aria-label":"Sex Type",id:"sex",required:!0,value:this.state.sex,onChange:this.onChangeSex,name:"sex",children:[Object(g.jsx)("option",{defaultValue:"male",children:"Male"}),Object(g.jsx)("option",{value:"female",children:"Female"}),Object(g.jsx)("option",{value:"other",children:"Other"})]})]}),Object(g.jsx)("button",{onClick:this.saveCandidate,className:"btn btn-success",children:"Save"})]})}}]),a}(n.Component),N=Object(u.b)(null,{createCandidate:function(e,t,a,n,r,i){return function(){var c=Object(b.a)(j.a.mark((function c(s){var l;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,C.create({fullname:e,seniority:t,email:a,hired:n,phone:r,sex:i});case 3:return l=c.sent,c.next=6,s({type:m,payload:l.data});case 6:return c.next=8,Promise.resolve(l.data);case 8:return c.abrupt("return",c.sent);case 11:return c.prev=11,c.t0=c.catch(0),console.log(c.t0),c.abrupt("return",Promise.reject(c.t0));case 15:case"end":return c.stop()}}),c,null,[[0,11]])})));return function(e){return c.apply(this,arguments)}}()}})(y),S=a(5),k=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onChangeFullName=n.onChangeFullName.bind(Object(l.a)(n)),n.onChangeSeniority=n.onChangeSeniority.bind(Object(l.a)(n)),n.onChangeEmail=n.onChangeEmail.bind(Object(l.a)(n)),n.onChangeHired=n.onChangeHired.bind(Object(l.a)(n)),n.onChangePhone=n.onChangePhone.bind(Object(l.a)(n)),n.onChangeSex=n.onChangeSex.bind(Object(l.a)(n)),n.saveCandidate=n.saveCandidate.bind(Object(l.a)(n)),n.state={currentCandidate:{fullname:"",seniority:"",email:"",hired:"",phone:0,sex:""},redirect:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getCandidate(window.location.pathname.replace("/edit-candidate/",""))}},{key:"onChangeFullName",value:function(e){var t=e.target.value;this.setState((function(e){return{currentCandidate:Object(S.a)(Object(S.a)({},e.currentCandidate),{},{fullname:t})}}))}},{key:"onChangeSeniority",value:function(e){var t=e.target.value;this.setState((function(e){return{currentCandidate:Object(S.a)(Object(S.a)({},e.currentCandidate),{},{seniority:t})}}))}},{key:"onChangeEmail",value:function(e){var t=e.target.value;this.setState((function(e){return{currentCandidate:Object(S.a)(Object(S.a)({},e.currentCandidate),{},{email:t})}}))}},{key:"onChangeHired",value:function(e){var t=e.target.value;this.setState((function(e){return{currentCandidate:Object(S.a)(Object(S.a)({},e.currentCandidate),{},{hired:t})}}))}},{key:"onChangePhone",value:function(e){var t=e.target.value;this.setState((function(e){return{currentCandidate:Object(S.a)(Object(S.a)({},e.currentCandidate),{},{phone:t})}}))}},{key:"onChangeSex",value:function(e){var t=e.target.value;this.setState((function(e){return{currentCandidate:Object(S.a)(Object(S.a)({},e.currentCandidate),{},{sex:t})}}))}},{key:"getCandidate",value:function(e){var t=this;C.get(e).then((function(e){t.setState({currentCandidate:e.data}),console.log("Get DATA",e.data)}))}},{key:"saveCandidate",value:function(){var e=this;this.props.updateCandidate(this.state.currentCandidate.id,this.state.currentCandidate).then((function(){e.setState({redirect:!0})}))}},{key:"render",value:function(){var e=this.state,t=e.redirect,a=e.currentCandidate;return t?Object(g.jsx)(i.a,{to:"/"}):Object(g.jsxs)("div",{className:"container text-white my-4",children:["`"," ",Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsxs)("label",{className:"form-label",htmlFor:"name",children:["Full Name ",this.state.currentCandidate.fullname]}),Object(g.jsx)("input",{type:"text",className:"form-control",id:"fullname",required:!0,value:a.fullname,onChange:this.onChangeFullName,name:"fullname"})]}),"`",Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",htmlFor:"seniority",children:"Seniority"}),Object(g.jsxs)("select",{className:"form-select","aria-label":"Seniority Level",id:"seniority",required:!0,value:a.seniority,onChange:this.onChangeSeniority,name:"seniority",children:[Object(g.jsx)("option",{value:"trainee",children:"Trainee"}),Object(g.jsx)("option",{value:"junior",children:"Junior"}),Object(g.jsx)("option",{value:"mid",children:"Mid"}),Object(g.jsx)("option",{value:"senior",children:"Senior"}),Object(g.jsx)("option",{value:"leader",children:"Leader"})]})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",htmlFor:"email",children:"Email"}),Object(g.jsx)("input",{type:"text",className:"form-control",id:"email",required:!0,value:a.email,onChange:this.onChangeEmail,name:"email"})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",htmlFor:"hired",children:"Status"}),Object(g.jsxs)("select",{className:"form-select","aria-label":"Status Level",id:"hired",required:!0,value:a.hired,onChange:this.onChangeHired,name:"hired",children:[Object(g.jsx)("option",{value:"referred",children:"Referred"}),Object(g.jsx)("option",{value:"interviewed",children:"Interviewed"}),Object(g.jsx)("option",{value:"hired",children:"Hired"}),Object(g.jsx)("option",{value:"rejected",children:"Rejected"})]})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",htmlFor:"phone",children:"Phone"}),Object(g.jsx)("input",{type:"text",className:"form-control",id:"phone",required:!0,value:a.phone,onChange:this.onChangePhone,name:"phone"})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",htmlFor:"sex",children:"Sex"}),Object(g.jsxs)("select",{className:"form-select","aria-label":"Sex Type",id:"sex",required:!0,value:a.sex,onChange:this.onChangeSex,name:"sex",children:[Object(g.jsx)("option",{value:"male",children:"Male"}),Object(g.jsx)("option",{value:"female",children:"Female"}),Object(g.jsx)("option",{value:"other",children:"Other"})]})]}),Object(g.jsx)("button",{onClick:this.saveCandidate,className:"btn btn-success",children:"Submit"})]})}}]),a}(n.Component),w=Object(u.b)(null,{updateCandidate:function(e,t){return function(){var a=Object(b.a)(j.a.mark((function a(n){var r;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,C.update(e,t);case 3:return r=a.sent,a.next=6,n({type:O,payload:t});case 6:return a.next=8,Promise.resolve(r.data);case 8:return a.abrupt("return",a.sent);case 11:return a.prev=11,a.t0=a.catch(0),console.log(a.t0),a.abrupt("return",Promise.reject(a.t0));case 15:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}})(k),F=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).removeCandidate=function(t){e.props.deleteCandidate(t).then((function(){e.props.retrieveCandidates()}))},e.renderSwitch=function(e){switch(e){case"interviewed":return Object(g.jsx)("span",{className:"text-info",children:e});case"hired":return Object(g.jsx)("span",{className:"text-success",children:e});case"rejected":return Object(g.jsx)("span",{className:"text-danger",children:e});default:return Object(g.jsx)("span",{className:"text-primary",children:e})}},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.retrieveCandidates()}},{key:"render",value:function(){var e=this,t=this.props.candidates;return Object(g.jsxs)("div",{className:"container my-4",children:[Object(g.jsxs)("div",{className:"row justify-content-center",children:[Object(g.jsx)("div",{className:"col text-info",children:Object(g.jsx)("h4",{children:"Candidates List"})}),Object(g.jsx)("div",{className:"col-auto",children:Object(g.jsx)(r.b,{to:"/add-candidate",children:Object(g.jsx)("button",{className:"btn btn-outline-primary",children:Object(g.jsx)("i",{className:"fas fa-user-plus"})})})})]}),Object(g.jsx)("div",{className:"row my-4",children:Object(g.jsxs)("table",{className:"table table-dark table-hover text-center",children:[Object(g.jsx)("thead",{className:"text-uppercase text-warning",children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{scope:"col",children:"Id"}),Object(g.jsx)("th",{scope:"col",children:"Full Name"}),Object(g.jsx)("th",{scope:"col",children:"Seniority"}),Object(g.jsx)("th",{scope:"col",children:"email"}),Object(g.jsx)("th",{scope:"col",children:"Status"}),Object(g.jsx)("th",{scope:"col",children:"Phone"}),Object(g.jsx)("th",{scope:"col",children:"Gender"}),Object(g.jsx)("th",{scope:"col",children:"Actions"})]})}),Object(g.jsx)("tbody",{children:t&&t.map((function(t,a){var n=t.id,i=t.fullname,c=t.seniority,s=t.email,l=t.hired,o=t.phone,d=t.sex;return Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{scope:"row",children:n}),Object(g.jsx)("td",{children:i}),Object(g.jsx)("td",{children:c}),Object(g.jsx)("td",{children:s}),Object(g.jsx)("td",{className:"text-capitalize",children:e.renderSwitch(l)}),Object(g.jsx)("td",{children:o}),Object(g.jsx)("td",{children:"male"===d?Object(g.jsx)("i",{className:"text-info fas fa-male"}):Object(g.jsx)("i",{className:"text-warning fas fa-female"})}),Object(g.jsxs)("td",{children:[Object(g.jsx)("button",{className:"text-white border-0 btn btn-outline-secondary",onClick:function(){return e.removeCandidate(n)},children:Object(g.jsx)("i",{className:"fas fa-trash-alt"})}),Object(g.jsx)(r.b,{to:"/edit-candidate/".concat(n),children:Object(g.jsx)("i",{className:"text-white far fa-edit"})})]})]},a)}))})]})})]})}}]),a}(n.Component),E=Object(u.b)((function(e){return{candidates:e.candidates}}),{retrieveCandidates:function(){return function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.getAll();case 3:return a=e.sent,e.next=6,t({type:x,payload:a.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},deleteCandidate:function(e){return function(){var t=Object(b.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.delete(e);case 3:return t.next=5,a({type:v,payload:{id:e}});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})(F);function A(){return Object(g.jsx)(r.a,{children:Object(g.jsx)("div",{children:Object(g.jsxs)(i.d,{children:[Object(g.jsx)(i.b,{path:"/add-candidate",children:Object(g.jsx)(N,{})}),Object(g.jsx)(i.b,{path:"/edit-candidate",children:Object(g.jsx)(w,{})}),Object(g.jsx)(i.b,{path:"/",children:Object(g.jsx)(E,{})})]})})})}var P=a(24),D=a.n(P),T=a(38),q=a(39),H=[];var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case m:return[].concat(Object(q.a)(e),[n]);case x:return n;case O:return e.map((function(e){return e.id===n.id?Object(S.a)(Object(S.a)({},e),n):e}));case v:return e.filter((function(e){return e.id!==n.id}));default:return e}},L=Object(T.a)({reducer:{candidates:I}});a(69);D.a.render(Object(g.jsx)(u.a,{store:L,children:Object(g.jsx)(A,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.87f76eb8.chunk.js.map