(this["webpackJsonpdra-nica-devs-frontend"]=this["webpackJsonpdra-nica-devs-frontend"]||[]).push([[0],{69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(15),c=a(3),i=a(12),s=a(13),l=a(4),d=a(18),o=a(17),u=a(14),h=a(11),j=a.n(h),b=a(20),m="CREATE_CANDIDATE",x="RETRIEVE_CANDIDATES",O="UPDATE_CANDIDATE",v="DELETE_CANDIDATE",f=a(36),p=a.n(f).a.create({baseURL:"http://localhost:1337",headers:{"Content-type":"application/json"}}),g=new(function(){function e(){Object(i.a)(this,e)}return Object(s.a)(e,[{key:"getAll",value:function(){return p.get("/candidates")}},{key:"get",value:function(e){return p.get("/candidates/".concat(e))}},{key:"create",value:function(e){return p.post("/candidates",e)}},{key:"update",value:function(e,t){return p.put("/candidates/".concat(e),t)}},{key:"delete",value:function(e){return p.delete("/candidates/".concat(e))}}]),e}()),C=a(0),y=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChangeFullName=n.onChangeFullName.bind(Object(l.a)(n)),n.onChangeSeniority=n.onChangeSeniority.bind(Object(l.a)(n)),n.onChangeEmail=n.onChangeEmail.bind(Object(l.a)(n)),n.onChangeHired=n.onChangeHired.bind(Object(l.a)(n)),n.onChangeAge=n.onChangeAge.bind(Object(l.a)(n)),n.onChangeSex=n.onChangeSex.bind(Object(l.a)(n)),n.saveCandidate=n.saveCandidate.bind(Object(l.a)(n)),n.state={fullname:"",seniority:"trainee",email:"",hired:"referred",age:"",sex:"male",redirect:!1},n}return Object(s.a)(a,[{key:"onChangeFullName",value:function(e){this.setState({fullname:e.target.value})}},{key:"onChangeSeniority",value:function(e){this.setState({seniority:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangeHired",value:function(e){this.setState({hired:e.target.value})}},{key:"onChangeAge",value:function(e){this.setState({age:e.target.value})}},{key:"onChangeSex",value:function(e){this.setState({sex:e.target.value})}},{key:"saveCandidate",value:function(){var e=this,t=this.state,a=t.fullname,n=t.seniority,r=t.email,c=t.hired,i=t.age,s=t.sex;this.props.createCandidate(a,n,r,c,i,s).then((function(){e.setState({redirect:!0})}))}},{key:"render",value:function(){return this.state.redirect?Object(C.jsx)(c.a,{to:"/"}):Object(C.jsxs)("div",{className:"container text-white my-4",children:[Object(C.jsxs)("div",{className:"mb-3",children:[Object(C.jsx)("label",{className:"form-label",htmlFor:"name",children:"Full Name"}),Object(C.jsx)("input",{type:"text",className:"form-control",id:"fullname",required:!0,value:this.state.fullname,onChange:this.onChangeFullName,name:"fullname"})]}),Object(C.jsxs)("div",{className:"mb-3",children:[Object(C.jsx)("label",{className:"form-label",htmlFor:"seniority",children:"Seniority"}),Object(C.jsxs)("select",{className:"form-select","aria-label":"Seniority Level",id:"seniority",required:!0,value:this.state.seniority,onChange:this.onChangeSeniority,name:"seniority",children:[Object(C.jsx)("option",{defaultValue:"trainee",children:"Trainee"}),Object(C.jsx)("option",{value:"junior",children:"Junior"}),Object(C.jsx)("option",{value:"mid",children:"Mid"}),Object(C.jsx)("option",{value:"senior",children:"Senior"}),Object(C.jsx)("option",{value:"leader",children:"Leader"})]})]}),Object(C.jsxs)("div",{className:"mb-3",children:[Object(C.jsx)("label",{className:"form-label",htmlFor:"email",children:"Email"}),Object(C.jsx)("input",{type:"text",className:"form-control",id:"email",required:!0,value:this.state.email,onChange:this.onChangeEmail,name:"email"})]}),Object(C.jsxs)("div",{className:"mb-3",children:[Object(C.jsx)("label",{className:"form-label",htmlFor:"hired",children:"Status"}),Object(C.jsxs)("select",{className:"form-select","aria-label":"Status Level",id:"hired",required:!0,value:this.state.hired,onChange:this.onChangeHired,name:"hired",children:[Object(C.jsx)("option",{defaultValue:"referred",children:"Referred"}),Object(C.jsx)("option",{value:"interviewed",children:"Interviewed"}),Object(C.jsx)("option",{value:"hired",children:"Hired"}),Object(C.jsx)("option",{value:"rejected",children:"Rejected"})]})]}),Object(C.jsxs)("div",{className:"mb-3",children:[Object(C.jsx)("label",{className:"form-label",htmlFor:"age",children:"Age"}),Object(C.jsx)("input",{type:"text",className:"form-control",id:"age",required:!0,pattern:"\\d{2}",maxLength:"2",value:this.state.age,onChange:this.onChangeAge,name:"age"})]}),Object(C.jsxs)("div",{className:"mb-3",children:[Object(C.jsx)("label",{className:"form-label",htmlFor:"sex",children:"Sex"}),Object(C.jsxs)("select",{className:"form-select","aria-label":"Sex Type",id:"sex",required:!0,value:this.state.sex,onChange:this.onChangeSex,name:"sex",children:[Object(C.jsx)("option",{defaultValue:"male",children:"Male"}),Object(C.jsx)("option",{value:"female",children:"Female"}),Object(C.jsx)("option",{value:"other",children:"Other"})]})]}),Object(C.jsx)("button",{onClick:this.saveCandidate,className:"btn btn-success",children:"Save"})]})}}]),a}(n.Component),N=Object(u.b)(null,{createCandidate:function(e,t,a,n,r,c){return function(){var i=Object(b.a)(j.a.mark((function i(s){var l;return j.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,console.log("TESt"),i.next=4,g.create({fullname:e,seniority:t,email:a,hired:n,age:r,sex:c});case 4:return l=i.sent,i.next=7,s({type:m,payload:l.data});case 7:return console.log("==>",l.data),i.next=10,Promise.resolve(l.data);case 10:return i.abrupt("return",i.sent);case 13:return i.prev=13,i.t0=i.catch(0),console.log(i.t0),i.abrupt("return",Promise.reject(i.t0));case 17:case"end":return i.stop()}}),i,null,[[0,13]])})));return function(e){return i.apply(this,arguments)}}()}})(y),S=a(5),k=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChangeFullName=n.onChangeFullName.bind(Object(l.a)(n)),n.onChangeSeniority=n.onChangeSeniority.bind(Object(l.a)(n)),n.onChangeEmail=n.onChangeEmail.bind(Object(l.a)(n)),n.onChangeHired=n.onChangeHired.bind(Object(l.a)(n)),n.onChangeAge=n.onChangeAge.bind(Object(l.a)(n)),n.onChangeSex=n.onChangeSex.bind(Object(l.a)(n)),n.saveCandidate=n.saveCandidate.bind(Object(l.a)(n)),n.state={currentCandidate:{fullname:"",seniority:"",email:"",hired:"",age:0,sex:""},redirect:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getCandidate(window.location.pathname.replace("/edit-candidate/",""))}},{key:"onChangeFullName",value:function(e){var t=e.target.value;this.setState((function(e){return{currentCandidate:Object(S.a)(Object(S.a)({},e.currentCandidate),{},{fullname:t})}}))}},{key:"onChangeSeniority",value:function(e){var t=e.target.value;this.setState((function(e){return{currentCandidate:Object(S.a)(Object(S.a)({},e.currentCandidate),{},{seniority:t})}}))}},{key:"onChangeEmail",value:function(e){var t=e.target.value;this.setState((function(e){return{currentCandidate:Object(S.a)(Object(S.a)({},e.currentCandidate),{},{email:t})}}))}},{key:"onChangeHired",value:function(e){var t=e.target.value;this.setState((function(e){return{currentCandidate:Object(S.a)(Object(S.a)({},e.currentCandidate),{},{hired:t})}}))}},{key:"onChangeAge",value:function(e){var t=e.target.value;this.setState((function(e){return{currentCandidate:Object(S.a)(Object(S.a)({},e.currentCandidate),{},{age:t})}}))}},{key:"onChangeSex",value:function(e){var t=e.target.value;this.setState((function(e){return{currentCandidate:Object(S.a)(Object(S.a)({},e.currentCandidate),{},{sex:t})}}))}},{key:"getCandidate",value:function(e){var t=this;g.get(e).then((function(e){t.setState({currentCandidate:e.data}),console.log("Get DATA",e.data)}))}},{key:"saveCandidate",value:function(){var e=this;this.props.updateCandidate(this.state.currentCandidate.id,this.state.currentCandidate).then((function(){e.setState({redirect:!0})}))}},{key:"render",value:function(){var e=this.state,t=e.redirect,a=e.currentCandidate;return t?Object(C.jsx)(c.a,{to:"/"}):Object(C.jsxs)("div",{className:"container text-white my-4",children:["`"," ",Object(C.jsxs)("div",{className:"mb-3",children:[Object(C.jsxs)("label",{className:"form-label",htmlFor:"name",children:["Full Name ",this.state.currentCandidate.fullname]}),Object(C.jsx)("input",{type:"text",className:"form-control",id:"fullname",required:!0,value:a.fullname,onChange:this.onChangeFullName,name:"fullname"})]}),"`",Object(C.jsxs)("div",{className:"mb-3",children:[Object(C.jsx)("label",{className:"form-label",htmlFor:"seniority",children:"Seniority"}),Object(C.jsxs)("select",{className:"form-select","aria-label":"Seniority Level",id:"seniority",required:!0,value:a.seniority,onChange:this.onChangeSeniority,name:"seniority",children:[Object(C.jsx)("option",{value:"trainee",children:"Trainee"}),Object(C.jsx)("option",{value:"junior",children:"Junior"}),Object(C.jsx)("option",{value:"mid",children:"Mid"}),Object(C.jsx)("option",{value:"senior",children:"Senior"}),Object(C.jsx)("option",{value:"leader",children:"Leader"})]})]}),Object(C.jsxs)("div",{className:"mb-3",children:[Object(C.jsx)("label",{className:"form-label",htmlFor:"email",children:"Email"}),Object(C.jsx)("input",{type:"text",className:"form-control",id:"email",required:!0,value:a.email,onChange:this.onChangeEmail,name:"email"})]}),Object(C.jsxs)("div",{className:"mb-3",children:[Object(C.jsx)("label",{className:"form-label",htmlFor:"hired",children:"Status"}),Object(C.jsxs)("select",{className:"form-select","aria-label":"Status Level",id:"hired",required:!0,value:a.hired,onChange:this.onChangeHired,name:"hired",children:[Object(C.jsx)("option",{value:"referred",children:"Referred"}),Object(C.jsx)("option",{value:"interviewed",children:"Interviewed"}),Object(C.jsx)("option",{value:"hired",children:"Hired"}),Object(C.jsx)("option",{value:"rejected",children:"Rejected"})]})]}),Object(C.jsxs)("div",{className:"mb-3",children:[Object(C.jsx)("label",{className:"form-label",htmlFor:"age",children:"Age"}),Object(C.jsx)("input",{type:"text",className:"form-control",id:"age",required:!0,pattern:"\\d{2}",maxLength:"2",value:a.age,onChange:this.onChangeAge,name:"age"})]}),Object(C.jsxs)("div",{className:"mb-3",children:[Object(C.jsx)("label",{className:"form-label",htmlFor:"sex",children:"Sex"}),Object(C.jsxs)("select",{className:"form-select","aria-label":"Sex Type",id:"sex",required:!0,value:a.sex,onChange:this.onChangeSex,name:"sex",children:[Object(C.jsx)("option",{value:"male",children:"Male"}),Object(C.jsx)("option",{value:"female",children:"Female"}),Object(C.jsx)("option",{value:"other",children:"Other"})]})]}),Object(C.jsx)("button",{onClick:this.saveCandidate,className:"btn btn-success",children:"Submit"})]})}}]),a}(n.Component),w=Object(u.b)(null,{updateCandidate:function(e,t){return function(){var a=Object(b.a)(j.a.mark((function a(n){var r;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,g.update(e,t);case 3:return r=a.sent,a.next=6,n({type:O,payload:t});case 6:return a.next=8,Promise.resolve(r.data);case 8:return a.abrupt("return",a.sent);case 11:return a.prev=11,a.t0=a.catch(0),console.log(a.t0),a.abrupt("return",Promise.reject(a.t0));case 15:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}})(k),A=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).removeCandidate=function(t){e.props.deleteCandidate(t).then((function(){e.props.retrieveCandidates()}))},e.renderSwitch=function(e){switch(e){case"interviewed":return Object(C.jsx)("span",{className:"text-info",children:e});case"hired":return Object(C.jsx)("span",{className:"text-success",children:e});case"rejected":return Object(C.jsx)("span",{className:"text-danger",children:e});default:return Object(C.jsx)("span",{className:"text-primary",children:e})}},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.retrieveCandidates()}},{key:"render",value:function(){var e=this,t=this.props.candidates;return Object(C.jsxs)("div",{className:"container my-4",children:[Object(C.jsxs)("div",{className:"row justify-content-center",children:[Object(C.jsx)("div",{className:"col text-info",children:Object(C.jsx)("h4",{children:"Candidates List"})}),Object(C.jsx)("div",{className:"col-auto",children:Object(C.jsx)(r.b,{to:"/add-candidate",children:Object(C.jsx)("button",{className:"btn btn-outline-primary",children:Object(C.jsx)("i",{className:"fas fa-user-plus"})})})})]}),Object(C.jsx)("div",{className:"row my-4",children:Object(C.jsxs)("table",{className:"table table-dark table-hover text-center",children:[Object(C.jsx)("thead",{className:"text-uppercase text-warning",children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"col",children:"Id"}),Object(C.jsx)("th",{scope:"col",children:"Full Name"}),Object(C.jsx)("th",{scope:"col",children:"Seniority"}),Object(C.jsx)("th",{scope:"col",children:"email"}),Object(C.jsx)("th",{scope:"col",children:"Status"}),Object(C.jsx)("th",{scope:"col",children:"Age"}),Object(C.jsx)("th",{scope:"col",children:"Gender"}),Object(C.jsx)("th",{scope:"col",children:"Actions"})]})}),Object(C.jsx)("tbody",{children:t&&t.map((function(t,a){var n=t.id,c=t.fullname,i=t.seniority,s=t.email,l=t.hired,d=t.age,o=t.sex;return Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",children:n}),Object(C.jsx)("td",{children:c}),Object(C.jsx)("td",{children:i}),Object(C.jsx)("td",{children:s}),Object(C.jsx)("td",{className:"text-capitalize",children:e.renderSwitch(l)}),Object(C.jsx)("td",{children:d}),Object(C.jsx)("td",{children:"male"===o?Object(C.jsx)("i",{className:"text-info fas fa-male"}):Object(C.jsx)("i",{className:"text-warning fas fa-female"})}),Object(C.jsxs)("td",{children:[Object(C.jsx)("button",{className:"text-white border-0 btn btn-outline-secondary",onClick:function(){return e.removeCandidate(n)},children:Object(C.jsx)("i",{className:"fas fa-trash-alt"})}),Object(C.jsx)(r.b,{to:"/edit-candidate/".concat(n),children:Object(C.jsx)("i",{className:"text-white far fa-edit"})})]})]},a)}))})]})})]})}}]),a}(n.Component),E=Object(u.b)((function(e){return{candidates:e.candidates}}),{retrieveCandidates:function(){return function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.getAll();case 3:return a=e.sent,e.next=6,t({type:x,payload:a.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},deleteCandidate:function(e){return function(){var t=Object(b.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.delete(e);case 3:return t.next=5,a({type:v,payload:{id:e}});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})(A);function F(){return Object(C.jsx)(r.a,{children:Object(C.jsx)("div",{children:Object(C.jsxs)(c.d,{children:[Object(C.jsx)(c.b,{path:"/add-candidate",children:Object(C.jsx)(N,{})}),Object(C.jsx)(c.b,{path:"/edit-candidate",children:Object(C.jsx)(w,{})}),Object(C.jsx)(c.b,{path:"/",children:Object(C.jsx)(E,{})})]})})})}var T=a(24),D=a.n(T),q=a(38),L=a(39),H=[];var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case m:return[].concat(Object(L.a)(e),[n]);case x:return n;case O:return e.map((function(e){return e.id===n.id?Object(S.a)(Object(S.a)({},e),n):e}));case v:return e.filter((function(e){return e.id!==n.id}));default:return e}},R=Object(q.a)({reducer:{candidates:I}});a(69);D.a.render(Object(C.jsx)(u.a,{store:R,children:Object(C.jsx)(F,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.c7d674a1.chunk.js.map